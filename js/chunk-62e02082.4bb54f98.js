(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62e02082"],{2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("5a34"),i=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(i(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),i=n("b622"),o=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},"4ff6":function(e,t,n){"use strict";n("7a6a")},"5a25":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.plato?e._e():n("div",[n("b-spinner",{staticClass:"spinner",attrs:{variant:"primary",label:"Spinning"}})],1),e.plato?n("div",[n("h1",[e._v(e._s(e.plato.plato))]),n("h3",[e._v("Ingredientes")]),n("table",[e._m(0),n("tbody",[e._l(this.plato.ingredientes,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.denominacion))]),n("td",[e._v(e._s(t.cantidad))]),n("td",[e._v(e._s(t.unidadMedida))]),n("td",{on:{click:function(n){return e.quitarIngrediente(t.detalleRecetasId)}}},[n("i",{staticClass:"fas fa-times"})])])})),n("tr",{staticStyle:{"border-top":"1px solid gray",height:"3em"}},[n("td",[n("label",{attrs:{for:"cars"}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.ingredienteSeleccionado,expression:"ingredienteSeleccionado"}],staticClass:"m-md-2",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.ingredienteSeleccionado=t.target.multiple?n:n[0]},function(t){return e.cambiarUnidadMedida()}]}},[e._l(e.articulosFiltrados(),(function(t){return[n("option",{key:t.id,domProps:{value:t.denominacion}},[e._v(" "+e._s(t.denominacion)+" ")])]}))],2)]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.cantidadIngrediente,expression:"cantidadIngrediente"}],staticClass:"input-cant",attrs:{type:"number",placeholder:"cant.",min:"1"},domProps:{value:e.cantidadIngrediente},on:{input:function(t){t.target.composing||(e.cantidadIngrediente=t.target.value)}}})]),n("td",[e._v(e._s(e.cambiarUnidadMedida()))]),n("td",{on:{click:function(t){return e.agregarIngrediente()}}},[n("i",{staticClass:"fas fa-check"})])])],2)])]):e._e(),n("button",{attrs:{id:"btn-volver"},on:{click:function(t){return e.volver()}}},[e._v("Volver")])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("DenominaciÃ³n")]),n("th",[e._v("Cant.")]),n("th",[e._v("U. de Medida")]),n("th",[e._v("Agregar / Quitar")])])])}],i=n("1da1"),o=n("5530"),c=(n("96cf"),n("4de4"),n("d81d"),n("caad"),n("2532"),n("2f62")),d=(n("d3b7"),n("4360"));function s(e){return u.apply(this,arguments)}function u(){return u=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/DetallesRecetas",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+d["a"].getters.traerToken},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/DetallesRecetas/"+t,{headers:{Authorization:"Bearer "+d["a"].getters.traerToken}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,r.disabled=!0,e.next=9,fetch("/api/DetallesRecetas/".concat(t),{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+d["a"].getters.traerToken},body:JSON.stringify(r)});case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var f={data:function(){return{ingredientes:[],ingredienteSeleccionado:String,cantidadIngrediente:""}},computed:Object(o["a"])({},Object(c["c"])(["plato","todosLosArticulos"])),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["getPlato","fetchTodosLosArticulos","setPlato"])),{},{articulosFiltrados:function(){var e=[];e=this.todosLosArticulos.filter((function(e){return 0==e.aLaVenta}));var t=this.plato.ingredientes.map((function(e){return e.denominacion})),n=e.filter((function(e){return!t.includes(e.denominacion)}));return n},cambiarUnidadMedida:function(){var e=this,t=this.ingredientes.filter((function(t){return t.denominacion==e.ingredienteSeleccionado}));return""!=t?t[0].unidadMedida:""},agregarIngrediente:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.ingredientes.filter((function(t){return t.denominacion==e.ingredienteSeleccionado})),r=JSON.parse(JSON.stringify(e.plato)),a={ArticuloID:n[0].id,Cantidad:e.cantidadIngrediente,RecetaID:e.plato.RecetaId},i={articuloID:e.plato.id,cantidad:e.cantidadIngrediente,denominacion:n[0].denominacion,detalleRecetasId:"",insumoID:n[0].id,unidadMedida:n[0].unidadMedida},t.next=6,s(a);case 6:return o=t.sent,i.detalleRecetasId=o.id,r.ingredientes.push(i),t.next=11,e.setPlato(r);case 11:e.cantidadIngrediente="",e.ingredienteSeleccionado="",e.articulosFiltrados();case 14:case"end":return t.stop()}}),t)})))()},quitarIngrediente:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=JSON.parse(JSON.stringify(t.plato)),r.ingredientes=r.ingredientes.filter((function(t){return t.detalleRecetasId!=e})),n.next=4,t.setPlato(r);case 4:return n.next=6,l(e);case 6:t.articulosFiltrados();case 7:case"end":return n.stop()}}),n)})))()},volver:function(){this.$router.push({name:"Recetario"})}}),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPlato(e.$route.params.idReceta);case 2:return t.next=4,e.fetchTodosLosArticulos();case 4:e.ingredientes=e.articulosFiltrados();case 5:case"end":return t.stop()}}),t)})))()}},g=f,h=(n("4ff6"),n("2877")),v=Object(h["a"])(g,r,a,!1,null,"dbc4ccd0",null);t["default"]=v.exports},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"7a6a":function(e,t,n){},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,i=n("1dde"),o=i("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-62e02082.4bb54f98.js.map