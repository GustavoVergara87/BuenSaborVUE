{"version":3,"sources":["webpack:///./src/services/PedidoEstados.js","webpack:///./src/views/CocineroPedidoDetalle.vue?f030","webpack:///src/views/CocineroPedidoDetalle.vue","webpack:///./src/views/CocineroPedidoDetalle.vue?6e1c","webpack:///./src/views/CocineroPedidoDetalle.vue?0a9b","webpack:///./src/views/CocineroPedidoDetalle.vue?ef34","webpack:///./src/services/TipoEnvio.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/services/DetallesPedidosController.js"],"names":["PAGO_PENDIENTE_MP","PENDIENTE","APROBADO","LISTO_ENTREGA_LOCAL","TERMINADO","PENDIENTE_ENTREGA","ENTREGADO","CANCELADO","COCINANDO","render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","_s","elPedido","id","cliente","nombre","apellido","_l","detalle","key","index","style","platoListo","cantidad","articulo","denominacion","on","$event","setPlatoCocinado","estado","volver","setPedidoCocinado","staticRenderFns","data","computed","methods","$router","push","component","LOCAL","DOMICILIO","$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined","addDetallePedido","detallePedido","fetch","method","headers","store","getters","traerToken","body","JSON","stringify","response","json","responseJson","editDetallePedido","detallePedidoEditado","status","text","error"],"mappings":"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","file":"js/chunk-05bdeece.eb64e8dc.js","sourcesContent":["export default {\r\n    PAGO_PENDIENTE_MP: -1,\r\n    PENDIENTE: 0,\r\n    APROBADO: 1,\r\n    LISTO_ENTREGA_LOCAL: 2,\r\n    TERMINADO: 3,\r\n    PENDIENTE_ENTREGA: 4,\r\n    ENTREGADO: 5,\r\n    CANCELADO: 6,\r\n    COCINANDO: 7\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('h3',[_vm._v(\"Detalle Pedido\")]),_c('div',[_c('b-row',[_c('b-col',{staticClass:\"informacionPrincipal\",attrs:{\"sm\":\"2\"}},[_c('p',[_vm._v(\"Id:\")])]),_c('b-col',[_c('p',[_vm._v(_vm._s(_vm.elPedido.id))])])],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('p',[_vm._v(\"Nombre del Cliente:\")])]),_c('b-col',[_c('p',[_vm._v(\" \"+_vm._s(_vm.elPedido.cliente.nombre + \" \" + _vm.elPedido.cliente.apellido)+\" \")])])],1)],1),_c('ul',_vm._l((_vm.elPedido.detallesPedido),function(detalle){return _c('li',{key:detalle.index},[_c('div',{staticClass:\"elemento\",style:({ 'background-color': _vm.platoListo(detalle) })},[_c('p',[_vm._v(\" \"+_vm._s(detalle.cantidad)+\" \")]),_c('p',[_vm._v(_vm._s(detalle.articulo.denominacion))]),_c('b-button',{on:{\"click\":function($event){return _vm.setPlatoCocinado(detalle.id)}}},[_vm._v(_vm._s(detalle.estado ? \"Pendiente\" : \"Listo\"))])],1)])}),0),_c('b-button',{on:{\"click\":function($event){return _vm.volver()}}},[_vm._v(\"Volver\")]),_c('b-button',{on:{\"click\":function($event){return _vm.setPedidoCocinado()}}},[_vm._v(\"Todo Cocinado\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <h3>Detalle Pedido</h3>\r\n      <div>\r\n        <b-row>\r\n          <b-col class=\"informacionPrincipal\" sm=\"2\">\r\n            <p>Id:</p>\r\n          </b-col>\r\n          <b-col>\r\n            <p>{{ elPedido.id }}</p>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col sm=\"2\">\r\n            <p>Nombre del Cliente:</p>\r\n          </b-col>\r\n          <b-col>\r\n            <p>\r\n              {{ elPedido.cliente.nombre + \" \" + elPedido.cliente.apellido }}\r\n            </p>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n      <ul>\r\n        <li :key=\"detalle.index\" v-for=\"detalle in elPedido.detallesPedido\">\r\n          <div\r\n            class=\"elemento\"\r\n            :style=\"{ 'background-color': platoListo(detalle) }\"\r\n          >\r\n            <p>\r\n              {{ detalle.cantidad }}\r\n            </p>\r\n            <p>{{ detalle.articulo.denominacion }}</p>\r\n            <b-button @click=\"setPlatoCocinado(detalle.id)\">{{\r\n              detalle.estado ? \"Pendiente\" : \"Listo\"\r\n            }}</b-button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <b-button @click=\"volver()\">Volver</b-button>\r\n      <b-button @click=\"setPedidoCocinado()\">Todo Cocinado</b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport PE from \"../services/PedidoEstados\";\r\nimport TE from \"../services/TipoEnvio\";\r\nimport { editDetallePedido } from \"../services/DetallesPedidosController\";\r\n\r\nexport default {\r\n  data() {\r\n    return { PE: PE, TE: TE };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"elPedido\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      \"fetchTodosLosPedidos\",\r\n      \"editPedido\",\r\n      \"getPedido\",\r\n      \"getCliente\",\r\n    ]),\r\n\r\n    async setPlatoCocinado(id) {\r\n      let detalle = this.elPedido.detallesPedido.filter(\r\n        (detalle) => detalle.id == id\r\n      );\r\n\r\n      detalle[0].estado = +!detalle[0].estado;\r\n      await editDetallePedido(detalle[0]);\r\n    },\r\n\r\n    platoListo(detalle) {\r\n      if (detalle.estado == 1) {\r\n        return \"#7BDA01\";\r\n      } else {\r\n        return \"red\";\r\n      }\r\n    },\r\n\r\n    async setPedidoCocinado() {\r\n      await this.elPedido.detallesPedido.map((detalle) => {\r\n        detalle.estado = 1;\r\n        editDetallePedido(detalle);\r\n      });\r\n\r\n      if (this.elPedido.tipoEnvio == TE.DOMICILIO) {\r\n        this.elPedido.estado = PE.PENDIENTE_ENTREGA;\r\n      } else {\r\n        this.elPedido.estado = PE.LISTO_ENTREGA_LOCAL;\r\n      }\r\n      this.editPedido(this.elPedido);\r\n\r\n      this.$router.push({ name: \"CocineroListaDePedidos\" });\r\n    },\r\n\r\n    volver() {\r\n      this.$router.push({ name: \"CocineroListaDePedidos\" });\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getPedido(this.$route.params.idPedido);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media screen and (max-width: 801px) {\r\n  .elemento {\r\n    width: 80% !important;\r\n  }\r\n}\r\np {\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  padding: 5px;\r\n}\r\n.elemento {\r\n  padding: 15px;\r\n  background-color: rgb(63, 216, 63);\r\n  border: 1px solid black;\r\n  width: 50%;\r\n}\r\nbutton {\r\n  margin: 10px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CocineroPedidoDetalle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CocineroPedidoDetalle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CocineroPedidoDetalle.vue?vue&type=template&id=52bcb86e&scoped=true&\"\nimport script from \"./CocineroPedidoDetalle.vue?vue&type=script&lang=js&\"\nexport * from \"./CocineroPedidoDetalle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CocineroPedidoDetalle.vue?vue&type=style&index=0&id=52bcb86e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52bcb86e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CocineroPedidoDetalle.vue?vue&type=style&index=0&id=52bcb86e&scoped=true&lang=css&\"","export default {\r\n    LOCAL: 0,\r\n    DOMICILIO: 1,\r\n}","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import store from \"../store/index\"\r\n\r\nexport async function addDetallePedido(detallePedido) {\r\n    const response = await fetch(\"/api/DetallesPedidos\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-type\": \"application/json\",\r\n            'Authorization': 'Bearer ' + store.getters.traerToken\r\n        },\r\n        body: JSON.stringify(detallePedido),\r\n    });\r\n    const responseJson = await response.json();\r\n    return responseJson\r\n}\r\n\r\nexport async function editDetallePedido(detallePedidoEditado) {\r\n    const responseJson = await fetch(\"/api/DetallesPedidos/\" + detallePedidoEditado.id, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            \"Content-type\": \"application/json\",\r\n            'Authorization': 'Bearer ' + store.getters.traerToken\r\n        },\r\n        body: JSON.stringify(detallePedidoEditado),\r\n    });\r\n\r\n    if (responseJson.status == 409) {\r\n        const error = await responseJson.text();\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\nexport default {\r\n    addDetallePedido,\r\n    editDetallePedido,\r\n}"],"sourceRoot":""}